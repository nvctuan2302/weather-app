!function c(i,u,a){function l(e,t){if(!u[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[e]={exports:{}};i[e][0].call(o.exports,function(t){return l(i[e][1][t]||t)},o,o.exports,c,i,u,a)}return u[e].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)l(a[t]);return l}({1:[function(t,e,n){"use strict";function d(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.addEventListener("DOMContentLoaded",function(){function n(){return t.innerHTML="".concat(a.filter(function(t){return!1===t.completed}).length)}var e=document.querySelector(".js-todo-new"),t=document.querySelector(".js-count-todos"),r=document.querySelector(".js-clear-todos"),o=document.querySelector(".js-content"),c=document.querySelector(".js-active"),i=document.querySelector(".js-completed"),u=d(document.querySelectorAll(".js-todo-action-item")),a=localStorage.getItem("todoList")?JSON.parse(localStorage.getItem("todoList")):[];u.forEach(function(t){t.addEventListener("click",function(){switch(f(o),t.querySelector("input").value){case"active":v(a.filter(function(t){return!1===t.completed}),o);break;case"completed":v(a.filter(function(t){return!0===t.completed}),o);break;default:v(a,o)}})}),e.addEventListener("keyup",function(t){0===a.length&&(l=1),13===t.keyCode&&""!==e.value&&(a.push({completed:!1,content:e.value,id:l}),!1===i.checked&&s(!1,e.value,l++,o),p(a),e.value="",n())}),h(document,"click",".js-btn-remove",function(t){var e=t.target.closest(".todo-list__item");e.remove(),a=a.filter(function(t){return t.id!==Number(e.dataset.id)}),l=y(a),n(),p(a)}),r.addEventListener("click",function(){a=a.filter(function(t){return!1===t.completed}),f(o),p(a),v(a,o),n()}),h(document,"dblclick",".js-content",function(t){var e=t.target.closest(".todo-list__item");t.target.disabled=!1,g(e,function(){m(a,e,t.target.value),t.target.disabled=!0})}),h(document,"keyup",".js-content",function(t){var e=t.target.closest(".todo-list__item");13===t.keyCode&&""!==t.target.value&&(m(a,e,t.target.value),t.target.disabled=!0)}),h(document,"change",".js-checkbox",function(t){var e=t.target.closest(".todo-list__item");m(a,e,t.target.checked),(c.checked||i.checked)&&e.remove(),n()});var l=y(a);v(a,o),n()});var s=function(t,e,n,r){var o='    \n    <li class="u-flex-center todo-list__item" data-id="'.concat(n,'" >\n      <div style ="width: 100%;"> \n        <input type="checkbox" class="input-checkbox js-checkbox" ').concat(!0===t?t="checked":"",' >\n        <input type="text" class="input-text js-content" disabled value="').concat(e,'" >\n      </div>\n      <button class="button js-btn-remove" >&#x2716</button>\n    </li>');r.insertAdjacentHTML("afterbegin",o)},f=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},m=function(t,e,n){t.find(function(t){t.id===Number(e.dataset.id)&&(!0===n||!1===n?t.completed=n:t.content=n)}),p(t)},v=function(t,e){t.forEach(function(t){s(t.completed,t.content,t.id,e)})},p=function(t){return localStorage.setItem("todoList",JSON.stringify(t))},y=function(t){return Math.max.apply(Math,t.map(function(t){return t.id}))+1},g=function(n,r){function t(t){var e;!n.contains(t.target)&&((e=n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length))&&(r(),o())}var o=function(){document.removeEventListener("click",t)};document.addEventListener("click",t)},h=function(u,t,a,l){u.addEventListener(t,function(t){for(var e=u.querySelectorAll(a),n=t.target,r=0,o=e.length;r<o;r++)for(var c=n,i=e[r];c&&c!==u;){if(c===i)return l.call(i,t);c=c.parentNode}})}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICB2YXIgdG9kb05ldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy10b2RvLW5ldycpO1xuICB2YXIgY291bnRUb2RvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jb3VudC10b2RvcycpOyAvL1xuXG4gIHZhciBjbGVhclRvZG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNsZWFyLXRvZG9zJyk7XG4gIHZhciBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWNvbnRlbnQnKTtcbiAgdmFyIGFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1hY3RpdmUnKTtcbiAgdmFyIGNvbXBsZXRlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1jb21wbGV0ZWQnKTtcblxuICB2YXIgdG9kb3NBY3Rpb24gPSBfdG9Db25zdW1hYmxlQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXRvZG8tYWN0aW9uLWl0ZW0nKSk7XG5cbiAgdmFyIGFyckl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb0xpc3QnKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9MaXN0JykpIDogW107XG5cbiAgdmFyIGNvdW50QWN0aXZlID0gZnVuY3Rpb24gY291bnRBY3RpdmUoKSB7XG4gICAgcmV0dXJuIGNvdW50VG9kb3MuaW5uZXJIVE1MID0gXCJcIi5jb25jYXQoYXJySXRlbS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmNvbXBsZXRlZCA9PT0gZmFsc2U7XG4gICAgfSkubGVuZ3RoKTtcbiAgfTtcblxuICB0b2Rvc0FjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0ZW1EZWxldGUoY29udGVudCk7XG5cbiAgICAgIHN3aXRjaCAoaXRlbS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgbG9hZERhdGEoYXJySXRlbS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmNvbXBsZXRlZCA9PT0gZmFsc2U7XG4gICAgICAgICAgfSksIGNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgbG9hZERhdGEoYXJySXRlbS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmNvbXBsZXRlZCA9PT0gdHJ1ZTtcbiAgICAgICAgICB9KSwgY29udGVudCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2FkRGF0YShhcnJJdGVtLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7IC8vIGFkZCBpdGVtXG5cbiAgdG9kb05ldy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGFyckl0ZW0ubGVuZ3RoID09PSAwKSBtYXhJZCA9IDE7XG5cbiAgICBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiB0b2RvTmV3LnZhbHVlICE9PSAnJykge1xuICAgICAgYXJySXRlbS5wdXNoKHtcbiAgICAgICAgJ2NvbXBsZXRlZCc6IGZhbHNlLFxuICAgICAgICAnY29udGVudCc6IHRvZG9OZXcudmFsdWUsXG4gICAgICAgICdpZCc6IG1heElkXG4gICAgICB9KTtcbiAgICAgIGNvbXBsZXRlZC5jaGVja2VkID09PSBmYWxzZSAmJiBpdGVtTWFrZXIoZmFsc2UsIHRvZG9OZXcudmFsdWUsIG1heElkKyssIGNvbnRlbnQpO1xuICAgICAgdXBkYXRlU3RvcmFnZShhcnJJdGVtKTtcbiAgICAgIHRvZG9OZXcudmFsdWUgPSAnJztcbiAgICAgIGNvdW50QWN0aXZlKCk7XG4gICAgfVxuICB9KTsgLy8gcmVtb3ZlIGl0ZW1cblxuICBkZWxlZ2F0ZShkb2N1bWVudCwgJ2NsaWNrJywgJy5qcy1idG4tcmVtb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZWxlbWVudFdyYXBwZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcudG9kby1saXN0X19pdGVtJyk7XG4gICAgZWxlbWVudFdyYXBwZXIucmVtb3ZlKCk7XG4gICAgYXJySXRlbSA9IGFyckl0ZW0uZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5pZCAhPT0gTnVtYmVyKGVsZW1lbnRXcmFwcGVyLmRhdGFzZXQuaWQpO1xuICAgIH0pO1xuICAgIG1heElkID0gdmFsdWVNYXgoYXJySXRlbSk7XG4gICAgY291bnRBY3RpdmUoKTtcbiAgICB1cGRhdGVTdG9yYWdlKGFyckl0ZW0pO1xuICB9KTsgLy8gcmVtb3ZlIGFsbCBjb21wbGV0ZWRcblxuICBjbGVhclRvZG9zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGFyckl0ZW0gPSBhcnJJdGVtLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uY29tcGxldGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICBpdGVtRGVsZXRlKGNvbnRlbnQpO1xuICAgIHVwZGF0ZVN0b3JhZ2UoYXJySXRlbSk7XG4gICAgbG9hZERhdGEoYXJySXRlbSwgY29udGVudCk7XG4gICAgY291bnRBY3RpdmUoKTtcbiAgfSk7IC8vIGVkaXQgdmFsdWUgKGV2ZW50IGNsaWNrIG91dHNpZGUpXG5cbiAgZGVsZWdhdGUoZG9jdW1lbnQsICdkYmxjbGljaycsICcuanMtY29udGVudCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGVsZW1lbnRXcmFwcGVyID0gZS50YXJnZXQuY2xvc2VzdCgnLnRvZG8tbGlzdF9faXRlbScpO1xuICAgIGUudGFyZ2V0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgaGlkZU9uQ2xpY2tPdXRzaWRlKGVsZW1lbnRXcmFwcGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICBlZGl0VmFsdWUoYXJySXRlbSwgZWxlbWVudFdyYXBwZXIsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgIGUudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfSk7IC8vIGVkaXQgdmFsdWUgKGV2ZW50IGtleXVwKVxuXG4gIGRlbGVnYXRlKGRvY3VtZW50LCAna2V5dXAnLCAnLmpzLWNvbnRlbnQnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBlbGVtZW50V3JhcHBlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50b2RvLWxpc3RfX2l0ZW0nKTtcblxuICAgIGlmIChlLmtleUNvZGUgPT09IDEzICYmIGUudGFyZ2V0LnZhbHVlICE9PSAnJykge1xuICAgICAgZWRpdFZhbHVlKGFyckl0ZW0sIGVsZW1lbnRXcmFwcGVyLCBlLnRhcmdldC52YWx1ZSk7XG4gICAgICBlLnRhcmdldC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9KTsgLy8gY2hlY2sgY2hlY2tib3hcblxuICBkZWxlZ2F0ZShkb2N1bWVudCwgJ2NoYW5nZScsICcuanMtY2hlY2tib3gnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBlbGVtZW50V3JhcHBlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50b2RvLWxpc3RfX2l0ZW0nKTtcbiAgICBlZGl0VmFsdWUoYXJySXRlbSwgZWxlbWVudFdyYXBwZXIsIGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgIGlmIChhY3RpdmUuY2hlY2tlZCB8fCBjb21wbGV0ZWQuY2hlY2tlZCkgZWxlbWVudFdyYXBwZXIucmVtb3ZlKCk7XG4gICAgY291bnRBY3RpdmUoKTtcbiAgfSk7IC8vbG9hZCBkYXRhIGFmdGVyIHJlZnJlc2ggXG5cbiAgdmFyIG1heElkID0gdmFsdWVNYXgoYXJySXRlbSk7XG4gIGxvYWREYXRhKGFyckl0ZW0sIGNvbnRlbnQpO1xuICBjb3VudEFjdGl2ZSgpO1xufSk7XG5cbnZhciBpdGVtTWFrZXIgPSBmdW5jdGlvbiBpdGVtTWFrZXIoY29tcGxldGVkLCBjb250ZW50LCBpZCwgbG9jYXRpb24pIHtcbiAgdmFyIG1ha2VyID0gXCIgICAgXFxuICAgIDxsaSBjbGFzcz1cXFwidS1mbGV4LWNlbnRlciB0b2RvLWxpc3RfX2l0ZW1cXFwiIGRhdGEtaWQ9XFxcIlwiLmNvbmNhdChpZCwgXCJcXFwiID5cXG4gICAgICA8ZGl2IHN0eWxlID1cXFwid2lkdGg6IDEwMCU7XFxcIj4gXFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJpbnB1dC1jaGVja2JveCBqcy1jaGVja2JveFxcXCIgXCIpLmNvbmNhdChjb21wbGV0ZWQgPT09IHRydWUgPyBjb21wbGV0ZWQgPSAnY2hlY2tlZCcgOiAnJywgXCIgPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJpbnB1dC10ZXh0IGpzLWNvbnRlbnRcXFwiIGRpc2FibGVkIHZhbHVlPVxcXCJcIikuY29uY2F0KGNvbnRlbnQsIFwiXFxcIiA+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnV0dG9uIGpzLWJ0bi1yZW1vdmVcXFwiID4mI3gyNzE2PC9idXR0b24+XFxuICAgIDwvbGk+XCIpO1xuICBsb2NhdGlvbi5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBtYWtlcik7XG59O1xuXG52YXIgaXRlbURlbGV0ZSA9IGZ1bmN0aW9uIGl0ZW1EZWxldGUoY29udGVudCkge1xuICB3aGlsZSAoY29udGVudC5maXJzdENoaWxkKSB7XG4gICAgY29udGVudC5yZW1vdmVDaGlsZChjb250ZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59O1xuXG52YXIgZWRpdFZhbHVlID0gZnVuY3Rpb24gZWRpdFZhbHVlKGFyciwgZWxlbWVudFdyYXBwZXIsIHZhbHVlKSB7XG4gIGFyci5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0uaWQgPT09IE51bWJlcihlbGVtZW50V3JhcHBlci5kYXRhc2V0LmlkKSkge1xuICAgICAgdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlID8gaXRlbS5jb21wbGV0ZWQgPSB2YWx1ZSA6IGl0ZW0uY29udGVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHVwZGF0ZVN0b3JhZ2UoYXJyKTtcbn07XG5cbnZhciBsb2FkRGF0YSA9IGZ1bmN0aW9uIGxvYWREYXRhKGFyciwgbG9jYXRpb24pIHtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpdGVtTWFrZXIoaXRlbS5jb21wbGV0ZWQsIGl0ZW0uY29udGVudCwgaXRlbS5pZCwgbG9jYXRpb24pO1xuICB9KTtcbn07XG5cbnZhciB1cGRhdGVTdG9yYWdlID0gZnVuY3Rpb24gdXBkYXRlU3RvcmFnZShhcnIpIHtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvTGlzdCcsIEpTT04uc3RyaW5naWZ5KGFycikpO1xufTtcblxudmFyIHZhbHVlTWF4ID0gZnVuY3Rpb24gdmFsdWVNYXgoYXJyKSB7XG4gIHJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLCBhcnIubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uaWQ7XG4gIH0pKSArIDE7XG59O1xuXG52YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW0pIHtcbiAgcmV0dXJuICEhZWxlbSAmJiAhIShlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xufTtcblxudmFyIGhpZGVPbkNsaWNrT3V0c2lkZSA9IGZ1bmN0aW9uIGhpZGVPbkNsaWNrT3V0c2lkZShlbGVtZW50LCBmbikge1xuICB2YXIgb3V0c2lkZUNsaWNrTGlzdGVuZXIgPSBmdW5jdGlvbiBvdXRzaWRlQ2xpY2tMaXN0ZW5lcihldmVudCkge1xuICAgIGlmICghZWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpICYmIGlzVmlzaWJsZShlbGVtZW50KSkge1xuICAgICAgZm4oKTtcbiAgICAgIHJlbW92ZUNsaWNrTGlzdGVuZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlbW92ZUNsaWNrTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVDbGlja0xpc3RlbmVyKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3V0c2lkZUNsaWNrTGlzdGVuZXIpO1xuICB9O1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3V0c2lkZUNsaWNrTGlzdGVuZXIpO1xufTtcblxudmFyIGRlbGVnYXRlID0gZnVuY3Rpb24gZGVsZWdhdGUoZWxTZWxlY3RvciwgZXZlbnROYW1lLCBzZWxlY3RvciwgZm4pIHtcbiAgZWxTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHBvc3NpYmxlVGFyZ2V0cyA9IGVsU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gcG9zc2libGVUYXJnZXRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGVsID0gdGFyZ2V0O1xuICAgICAgdmFyIHAgPSBwb3NzaWJsZVRhcmdldHNbaV07XG5cbiAgICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gZWxTZWxlY3Rvcikge1xuICAgICAgICBpZiAoZWwgPT09IHApIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbChwLCBldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbn0se31dfSx7fSxbMV0pO1xuIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsIl9hcnJheUxpa2VUb0FycmF5IiwiX2FycmF5V2l0aG91dEhvbGVzIiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwiZnJvbSIsIl9pdGVyYWJsZVRvQXJyYXkiLCJtaW5MZW4iLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVNwcmVhZCIsImxlbiIsImFycjIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY291bnRBY3RpdmUiLCJjb3VudFRvZG9zIiwiaW5uZXJIVE1MIiwiY29uY2F0IiwiYXJySXRlbSIsImZpbHRlciIsIml0ZW0iLCJjb21wbGV0ZWQiLCJ0b2RvTmV3IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xlYXJUb2RvcyIsImNvbnRlbnQiLCJhY3RpdmUiLCJ0b2Rvc0FjdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZm9yRWFjaCIsIml0ZW1EZWxldGUiLCJ2YWx1ZSIsImxvYWREYXRhIiwibWF4SWQiLCJrZXlDb2RlIiwicHVzaCIsImlkIiwiY2hlY2tlZCIsIml0ZW1NYWtlciIsInVwZGF0ZVN0b3JhZ2UiLCJkZWxlZ2F0ZSIsImVsZW1lbnRXcmFwcGVyIiwidGFyZ2V0IiwiY2xvc2VzdCIsInJlbW92ZSIsIk51bWJlciIsImRhdGFzZXQiLCJ2YWx1ZU1heCIsImRpc2FibGVkIiwiaGlkZU9uQ2xpY2tPdXRzaWRlIiwiZWRpdFZhbHVlIiwibG9jYXRpb24iLCJtYWtlciIsImluc2VydEFkamFjZW50SFRNTCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImZpbmQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiTWF0aCIsIm1heCIsImFwcGx5IiwibWFwIiwiZWxlbWVudCIsImZuIiwib3V0c2lkZUNsaWNrTGlzdGVuZXIiLCJldmVudCIsImVsZW0iLCJjb250YWlucyIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiZ2V0Q2xpZW50UmVjdHMiLCJyZW1vdmVDbGlja0xpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImVsU2VsZWN0b3IiLCJldmVudE5hbWUiLCJzZWxlY3RvciIsInBvc3NpYmxlVGFyZ2V0cyIsImwiLCJlbCIsInBhcmVudE5vZGUiXSwibWFwcGluZ3MiOiJDQUFZLFNBQVNBLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsU0FBU0MsRUFBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLElBQUlFLEVBQUUsbUJBQW1CQyxTQUFTQSxRQUFRLElBQUlGLEdBQUdDLEVBQUUsT0FBT0EsRUFBRUYsR0FBRSxHQUFJLEdBQUdJLEVBQUUsT0FBT0EsRUFBRUosR0FBRSxHQUFJLElBQUlLLEVBQUUsSUFBSUMsTUFBTSx1QkFBdUJOLEVBQUUsS0FBSyxNQUFNSyxFQUFFRSxLQUFLLG1CQUFtQkYsRUFBRSxJQUFJRyxFQUFFWCxFQUFFRyxHQUFHLENBQUNTLFFBQVEsSUFBSWIsRUFBRUksR0FBRyxHQUFHVSxLQUFLRixFQUFFQyxRQUFRLFNBQVNkLEdBQW9CLE9BQU9JLEVBQWxCSCxFQUFFSSxHQUFHLEdBQUdMLElBQWVBLElBQUlhLEVBQUVBLEVBQUVDLFFBQVFkLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsT0FBT0QsRUFBRUcsR0FBR1MsUUFBUSxJQUFJLElBQUlMLEVBQUUsbUJBQW1CRCxTQUFTQSxRQUFRSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVhLE9BQU9YLElB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
